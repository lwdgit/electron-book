
<!DOCTYPE HTML>
<html lang="" >
    <head>
        <meta charset="UTF-8">
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <title>Desktop Environment Integration Â· test search plus plugin</title>
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="description" content="">
        <meta name="generator" content="GitBook 3.2.2">
        
        
        
    
    <link rel="stylesheet" href="../gitbook/style.css">

    
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-search-plus/search.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-highlight/website.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-fontsettings/website.css">
                
            
        

    

    
        
    
        
    
        
    
        
    
        
    
        
    

        
    
    
    <meta name="HandheldFriendly" content="true"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="../gitbook/images/apple-touch-icon-precomposed-152.png">
    <link rel="shortcut icon" href="../gitbook/images/favicon.ico" type="image/x-icon">

    
    <link rel="next" href="online-offline-events.html" />
    
    
    <link rel="prev" href="quick-start.html" />
    

    </head>
    <body>
        
<div class="book">
    <div class="book-summary">
        
            
<div id="book-search-input" role="search">
    <input type="text" placeholder="Type to search" />
</div>

            
                <nav role="navigation">
                


<ul class="summary">
    
    

    

    
        
        
    
        <li class="chapter " data-level="1.1" data-path="../">
            
                <a href="../">
            
                    
                    Introduction
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2" >
            
                <span>
            
                    
                    FAQ
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.2.1" data-path="../faq.html">
            
                <a href="../faq.html">
            
                    
                    Electron FAQ
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.3" >
            
                <span>
            
                    
                    Guides
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.3.1" data-path="../glossary.html">
            
                <a href="../glossary.html">
            
                    
                    Glossary of Terms
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.2" data-path="supported-platforms.html">
            
                <a href="supported-platforms.html">
            
                    
                    Supported Platforms
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.3" data-path="security.html">
            
                <a href="security.html">
            
                    
                    Security
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.4" data-path="electron-versioning.html">
            
                <a href="electron-versioning.html">
            
                    
                    Electron Versioning
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.5" data-path="application-distribution.html">
            
                <a href="application-distribution.html">
            
                    
                    Application Distribution
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.6" data-path="mac-app-store-submission-guide.html">
            
                <a href="mac-app-store-submission-guide.html">
            
                    
                    Mac App Store Submission Guide
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.7" data-path="windows-store-guide.html">
            
                <a href="windows-store-guide.html">
            
                    
                    Windows Store Guide
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.8" data-path="application-packaging.html">
            
                <a href="application-packaging.html">
            
                    
                    Application Packaging
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.9" data-path="using-native-node-modules.html">
            
                <a href="using-native-node-modules.html">
            
                    
                    Using Native Node Modules
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.10" data-path="debugging-main-process.html">
            
                <a href="debugging-main-process.html">
            
                    
                    Debugging Main Process
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.11" data-path="using-selenium-and-webdriver.html">
            
                <a href="using-selenium-and-webdriver.html">
            
                    
                    Using Selenium and WebDriver
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.12" data-path="devtools-extension.html">
            
                <a href="devtools-extension.html">
            
                    
                    DevTools Extension
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.13" data-path="using-pepper-flash-plugin.html">
            
                <a href="using-pepper-flash-plugin.html">
            
                    
                    Using Pepper Flash Plugin
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.14" data-path="using-widevine-cdm-plugin.html">
            
                <a href="using-widevine-cdm-plugin.html">
            
                    
                    Using Widevine CDM Plugin
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.15" data-path="testing-on-headless-ci.html">
            
                <a href="testing-on-headless-ci.html">
            
                    
                    Testing on Headless CI Systems (Travis, Jenkins)
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.16" data-path="offscreen-rendering.html">
            
                <a href="offscreen-rendering.html">
            
                    
                    Offscreen Rendering
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.4" >
            
                <span>
            
                    
                    Tutorials
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.4.1" data-path="quick-start.html">
            
                <a href="quick-start.html">
            
                    
                    Quick Start
            
                </a>
            

            
        </li>
    
        <li class="chapter active" data-level="1.4.2" data-path="desktop-environment-integration.html">
            
                <a href="desktop-environment-integration.html">
            
                    
                    Desktop Environment Integration
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.3" data-path="online-offline-events.html">
            
                <a href="online-offline-events.html">
            
                    
                    Online/Offline Event Detection
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.4" data-path="repl.html">
            
                <a href="repl.html">
            
                    
                    REPL
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.5" data-path="../api/environment-variables.html">
            
                <a href="../api/environment-variables.html">
            
                    
                    Environment Variables
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.5.1" data-path="../api/synopsis.html">
            
                <a href="../api/synopsis.html">
            
                    
                    Synopsis
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.2" data-path="../api/process.html">
            
                <a href="../api/process.html">
            
                    
                    Process Object
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.3" data-path="../api/chrome-command-line-switches.html">
            
                <a href="../api/chrome-command-line-switches.html">
            
                    
                    Supported Chrome Command Line Switches
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.4" data-path="../api/environment-variables.html">
            
                <a href="../api/environment-variables.html">
            
                    
                    Environment Variables
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.5" >
            
                <span>
            
                    
                    Custom DOM Elements:
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.5.5.1" data-path="../api/file-object.html">
            
                <a href="../api/file-object.html">
            
                    
                    File Object
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.5.2" data-path="../api/webview-tag.html">
            
                <a href="../api/webview-tag.html">
            
                    
                    <webview> Tag
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.5.3" data-path="../api/window-open.html">
            
                <a href="../api/window-open.html">
            
                    
                    window.open Function
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.5.6" >
            
                <span>
            
                    
                    Modules for the Main Process:
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.5.6.1" data-path="../api/app.html">
            
                <a href="../api/app.html">
            
                    
                    app
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.6.2" data-path="../api/auto-updater.html">
            
                <a href="../api/auto-updater.html">
            
                    
                    autoUpdater
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.6.3" data-path="../api/browser-window.html">
            
                <a href="../api/browser-window.html">
            
                    
                    BrowserWindow
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.6.4" data-path="../api/content-tracing.html">
            
                <a href="../api/content-tracing.html">
            
                    
                    contentTracing
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.6.5" data-path="../api/dialog.html">
            
                <a href="../api/dialog.html">
            
                    
                    dialog
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.6.6" data-path="../api/global-shortcut.html">
            
                <a href="../api/global-shortcut.html">
            
                    
                    globalShortcut
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.6.7" data-path="../api/ipc-main.html">
            
                <a href="../api/ipc-main.html">
            
                    
                    ipcMain
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.6.8" data-path="../api/menu.html">
            
                <a href="../api/menu.html">
            
                    
                    Menu
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.6.9" data-path="../api/menu-item.html">
            
                <a href="../api/menu-item.html">
            
                    
                    MenuItem
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.6.10" data-path="../api/net.html">
            
                <a href="../api/net.html">
            
                    
                    net
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.6.11" data-path="../api/power-monitor.html">
            
                <a href="../api/power-monitor.html">
            
                    
                    powerMonitor
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.6.12" data-path="../api/power-save-blocker.html">
            
                <a href="../api/power-save-blocker.html">
            
                    
                    powerSaveBlocker
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.6.13" data-path="../api/protocol.html">
            
                <a href="../api/protocol.html">
            
                    
                    protocol
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.6.14" data-path="../api/session.html">
            
                <a href="../api/session.html">
            
                    
                    session
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.6.15" data-path="../api/system-preferences.html">
            
                <a href="../api/system-preferences.html">
            
                    
                    systemPreferences
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.6.16" data-path="../api/tray.html">
            
                <a href="../api/tray.html">
            
                    
                    Tray
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.6.17" data-path="../api/web-contents.html">
            
                <a href="../api/web-contents.html">
            
                    
                    webContents
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.5.7" >
            
                <span>
            
                    
                    Modules for the Renderer Process (Web Page):
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.5.7.1" data-path="../api/desktop-capturer.html">
            
                <a href="../api/desktop-capturer.html">
            
                    
                    desktopCapturer
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.7.2" data-path="../api/ipc-renderer.html">
            
                <a href="../api/ipc-renderer.html">
            
                    
                    ipcRenderer
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.7.3" data-path="../api/remote.html">
            
                <a href="../api/remote.html">
            
                    
                    remote
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.7.4" data-path="../api/web-frame.html">
            
                <a href="../api/web-frame.html">
            
                    
                    webFrame
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.5.8" >
            
                <span>
            
                    
                    Modules for Both Processes:
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.5.8.1" data-path="../api/clipboard.html">
            
                <a href="../api/clipboard.html">
            
                    
                    clipboard
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.8.2" data-path="../api/crash-reporter.html">
            
                <a href="../api/crash-reporter.html">
            
                    
                    crashReporter
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.8.3" data-path="../api/native-image.html">
            
                <a href="../api/native-image.html">
            
                    
                    nativeImage
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.8.4" data-path="../api/screen.html">
            
                <a href="../api/screen.html">
            
                    
                    screen
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.8.5" data-path="../api/shell.html">
            
                <a href="../api/shell.html">
            
                    
                    shell
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.6" >
            
                <span>
            
                    
                    Development
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.6.1" data-path="../development/coding-style.html">
            
                <a href="../development/coding-style.html">
            
                    
                    Coding Style
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.2" data-path="../development/clang-format.html">
            
                <a href="../development/clang-format.html">
            
                    
                    Using clang-format on C++ Code
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.3" data-path="../development/source-code-directory-structure.html">
            
                <a href="../development/source-code-directory-structure.html">
            
                    
                    Source Code Directory Structure
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.4" data-path="../development/atom-shell-vs-node-webkit.html">
            
                <a href="../development/atom-shell-vs-node-webkit.html">
            
                    
                    Technical Differences to NW.js (formerly node-webkit)
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.5" data-path="../development/build-system-overview.html">
            
                <a href="../development/build-system-overview.html">
            
                    
                    Build System Overview
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.6" data-path="../development/build-instructions-osx.html">
            
                <a href="../development/build-instructions-osx.html">
            
                    
                    Build Instructions (macOS)
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.7" data-path="../development/build-instructions-windows.html">
            
                <a href="../development/build-instructions-windows.html">
            
                    
                    Build Instructions (Windows)
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.8" data-path="../development/build-instructions-linux.html">
            
                <a href="../development/build-instructions-linux.html">
            
                    
                    Build Instructions (Linux)
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.9" data-path="../development/debugging-instructions-macos.html">
            
                <a href="../development/debugging-instructions-macos.html">
            
                    
                    Debug Instructions (macOS)
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.10" data-path="../development/debug-instructions-windows.html">
            
                <a href="../development/debug-instructions-windows.html">
            
                    
                    Debug Instructions (Windows)
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.11" data-path="../development/setting-up-symbol-server.html">
            
                <a href="../development/setting-up-symbol-server.html">
            
                    
                    Setting Up Symbol Server in debugger
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.12" data-path="../styleguide.html">
            
                <a href="../styleguide.html">
            
                    
                    Documentation Styleguide
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

    

    <li class="divider"></li>

    <li>
        <a href="https://www.gitbook.com" target="blank" class="gitbook-link">
            Published with GitBook
        </a>
    </li>
</ul>


                </nav>
            
        
    </div>

    <div class="book-body">
        
            <div class="body-inner">
                
                    

<div class="book-header" role="navigation">
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href=".." >Desktop Environment Integration</a>
    </h1>
</div>




                    <div class="page-wrapper" tabindex="-1" role="main">
                        <div class="page-inner">
                            
<div id="book-search-results">
    <div class="search-noresults">
    
                                <section class="normal markdown-section">
                                
                                <h1 id="desktop-environment-integration">Desktop Environment Integration</h1>
<p>Different operating systems provide different features for integrating desktop
applications into their desktop environments. For example, on Windows,
applications can put shortcuts in the JumpList of task bar, and on Mac,
applications can put a custom menu in the dock menu.</p>
<p>This guide explains how to integrate your application into those desktop
environments with Electron APIs.</p>
<h2 id="notifications-windows-linux-macos">Notifications (Windows, Linux, macOS)</h2>
<p>All three operating systems provide means for applications to send notifications
to the user. Electron conveniently allows developers to send notifications with
the <a href="https://notifications.spec.whatwg.org/" target="_blank">HTML5 Notification API</a>, using
the currently running operating system&apos;s native notification APIs to display it.</p>
<p><strong>Note:</strong> Since this is an HTML5 API it is only available in the renderer process.</p>
<pre><code class="lang-javascript"><span class="hljs-keyword">let</span> myNotification = <span class="hljs-keyword">new</span> Notification(<span class="hljs-string">&apos;Title&apos;</span>, {
  body: <span class="hljs-string">&apos;Lorem Ipsum Dolor Sit Amet&apos;</span>
})

myNotification.onclick = () =&gt; {
  <span class="hljs-built_in">console</span>.log(<span class="hljs-string">&apos;Notification clicked&apos;</span>)
}
</code></pre>
<p>While code and user experience across operating systems are similar, there
are fine differences.</p>
<h3 id="windows">Windows</h3>
<ul>
<li>On Windows 10, notifications &quot;just work&quot;.</li>
<li>On Windows 8.1 and Windows 8, a shortcut to your app, with a <a href="https://msdn.microsoft.com/en-us/library/windows/desktop/dd378459(v=vs.85).aspx" target="_blank">Application User
Model ID</a>, must be installed to the Start screen. Note,
however, that it does not need to be pinned to the Start screen.</li>
<li>On Windows 7, notifications are not supported. You can however send
&quot;balloon notifications&quot; using the <a href="../api/tray.html#traydisplayballoonoptions-windows">Tray API</a>.</li>
</ul>
<p>Furthermore, the maximum length for the notification body is 250 characters,
with the Windows team recommending that notifications should be kept to 200
characters.</p>
<h3 id="linux">Linux</h3>
<p>Notifications are sent using <code>libnotify</code>, it can show notifications on any
desktop environment that follows <a href="https://developer.gnome.org/notification-spec/" target="_blank">Desktop Notifications
Specification</a>, including Cinnamon, Enlightenment, Unity,
GNOME, KDE.</p>
<h3 id="macos">macOS</h3>
<p>Notifications are straight-forward on macOS, you should however be aware of
<a href="https://developer.apple.com/library/mac/documentation/UserExperience/Conceptual/OSXHIGuidelines/NotificationCenter.html" target="_blank">Apple&apos;s Human Interface guidelines regarding notifications</a>.</p>
<p>Note that notifications are limited to 256 bytes in size - and will be truncated
if you exceed that limit.</p>
<h2 id="recent-documents-windows--macos">Recent documents (Windows &amp; macOS)</h2>
<p>Windows and macOS provide easy access to a list of recent documents opened by
the application via JumpList or dock menu, respectively.</p>
<p><strong>JumpList:</strong></p>
<p><img src="http://i.msdn.microsoft.com/dynimg/IC420538.png" alt="JumpList Recent Files"></p>
<p><strong>Application dock menu:</strong></p>
<p><img src="https://cloud.githubusercontent.com/assets/639601/5069610/2aa80758-6e97-11e4-8cfb-c1a414a10774.png" height="353" width="428"></p>
<p>To add a file to recent documents, you can use the
<a href="../api/app.html#appaddrecentdocumentpath-os-x-windows">app.addRecentDocument</a> API:</p>
<pre><code class="lang-javascript"><span class="hljs-keyword">const</span> {app} = <span class="hljs-built_in">require</span>(<span class="hljs-string">&apos;electron&apos;</span>)
app.addRecentDocument(<span class="hljs-string">&apos;/Users/USERNAME/Desktop/work.type&apos;</span>)
</code></pre>
<p>And you can use <a href="../api/app.html#appclearrecentdocuments-os-x-windows">app.clearRecentDocuments</a> API to empty
the recent documents list:</p>
<pre><code class="lang-javascript"><span class="hljs-keyword">const</span> {app} = <span class="hljs-built_in">require</span>(<span class="hljs-string">&apos;electron&apos;</span>)
app.clearRecentDocuments()
</code></pre>
<h3 id="windows-notes">Windows Notes</h3>
<p>In order to be able to use this feature on Windows, your application has to be
registered as a handler of the file type of the document, otherwise the file
won&apos;t appear in JumpList even after you have added it. You can find everything
on registering your application in <a href="http://msdn.microsoft.com/en-us/library/windows/desktop/ee872121(v=vs.85).aspx" target="_blank">Application Registration</a>.</p>
<p>When a user clicks a file from the JumpList, a new instance of your application
will be started with the path of the file added as a command line argument.</p>
<h3 id="macos-notes">macOS Notes</h3>
<p>When a file is requested from the recent documents menu, the <code>open-file</code> event
of <code>app</code> module will be emitted for it.</p>
<h2 id="custom-dock-menu-macos">Custom Dock Menu (macOS)</h2>
<p>macOS enables developers to specify a custom menu for the dock, which usually
contains some shortcuts for commonly used features of your application:</p>
<p><strong>Dock menu of Terminal.app:</strong></p>
<p><img src="https://cloud.githubusercontent.com/assets/639601/5069962/6032658a-6e9c-11e4-9953-aa84006bdfff.png" height="354" width="341"></p>
<p>To set your custom dock menu, you can use the <code>app.dock.setMenu</code> API, which is
only available on macOS:</p>
<pre><code class="lang-javascript"><span class="hljs-keyword">const</span> {app, Menu} = <span class="hljs-built_in">require</span>(<span class="hljs-string">&apos;electron&apos;</span>)

<span class="hljs-keyword">const</span> dockMenu = Menu.buildFromTemplate([
  {label: <span class="hljs-string">&apos;New Window&apos;</span>, click () { <span class="hljs-built_in">console</span>.log(<span class="hljs-string">&apos;New Window&apos;</span>) }},
  {label: <span class="hljs-string">&apos;New Window with Settings&apos;</span>,
    submenu: [
      {label: <span class="hljs-string">&apos;Basic&apos;</span>},
      {label: <span class="hljs-string">&apos;Pro&apos;</span>}
    ]
  },
  {label: <span class="hljs-string">&apos;New Command...&apos;</span>}
])
app.dock.setMenu(dockMenu)
</code></pre>
<h2 id="user-tasks-windows">User Tasks (Windows)</h2>
<p>On Windows you can specify custom actions in the <code>Tasks</code> category of JumpList,
as quoted from MSDN:</p>
<blockquote>
<p>Applications define tasks based on both the program&apos;s features and the key
things a user is expected to do with them. Tasks should be context-free, in
that the application does not need to be running for them to work. They
should also be the statistically most common actions that a normal user would
perform in an application, such as compose an email message or open the
calendar in a mail program, create a new document in a word processor, launch
an application in a certain mode, or launch one of its subcommands. An
application should not clutter the menu with advanced features that standard
users won&apos;t need or one-time actions such as registration. Do not use tasks
for promotional items such as upgrades or special offers.</p>
<p>It is strongly recommended that the task list be static. It should remain the
same regardless of the state or status of the application. While it is
possible to vary the list dynamically, you should consider that this could
confuse the user who does not expect that portion of the destination list to
change.</p>
</blockquote>
<p><strong>Tasks of Internet Explorer:</strong></p>
<p><img src="http://i.msdn.microsoft.com/dynimg/IC420539.png" alt="IE"></p>
<p>Unlike the dock menu in macOS which is a real menu, user tasks in Windows work
like application shortcuts such that when user clicks a task, a program will be
executed with specified arguments.</p>
<p>To set user tasks for your application, you can use
<a href="../api/app.html#appsetusertaskstasks-windows">app.setUserTasks</a> API:</p>
<pre><code class="lang-javascript"><span class="hljs-keyword">const</span> {app} = <span class="hljs-built_in">require</span>(<span class="hljs-string">&apos;electron&apos;</span>)
app.setUserTasks([
  {
    program: process.execPath,
    <span class="hljs-built_in">arguments</span>: <span class="hljs-string">&apos;--new-window&apos;</span>,
    iconPath: process.execPath,
    iconIndex: <span class="hljs-number">0</span>,
    title: <span class="hljs-string">&apos;New Window&apos;</span>,
    description: <span class="hljs-string">&apos;Create a new window&apos;</span>
  }
])
</code></pre>
<p>To clean your tasks list, just call <code>app.setUserTasks</code> with an empty array:</p>
<pre><code class="lang-javascript"><span class="hljs-keyword">const</span> {app} = <span class="hljs-built_in">require</span>(<span class="hljs-string">&apos;electron&apos;</span>)
app.setUserTasks([])
</code></pre>
<p>The user tasks will still show even after your application closes, so the icon
and program path specified for a task should exist until your application is
uninstalled.</p>
<h2 id="thumbnail-toolbars">Thumbnail Toolbars</h2>
<p>On Windows you can add a thumbnail toolbar with specified buttons in a taskbar
layout of an application window. It provides users a way to access to a
particular window&apos;s command without restoring or activating the window.</p>
<p>From MSDN, it&apos;s illustrated:</p>
<blockquote>
<p>This toolbar is simply the familiar standard toolbar common control. It has a
maximum of seven buttons. Each button&apos;s ID, image, tooltip, and state are defined
in a structure, which is then passed to the taskbar. The application can show,
enable, disable, or hide buttons from the thumbnail toolbar as required by its
current state.</p>
<p>For example, Windows Media Player might offer standard media transport controls
such as play, pause, mute, and stop.</p>
</blockquote>
<p><strong>Thumbnail toolbar of Windows Media Player:</strong></p>
<p><img src="https://i-msdn.sec.s-msft.com/dynimg/IC420540.png" alt="player"></p>
<p>You can use <a href="../api/browser-window.html#winsetthumbarbuttonsbuttons-windows-7">BrowserWindow.setThumbarButtons</a> to set
thumbnail toolbar in your application:</p>
<pre><code class="lang-javascript"><span class="hljs-keyword">const</span> {BrowserWindow} = <span class="hljs-built_in">require</span>(<span class="hljs-string">&apos;electron&apos;</span>)
<span class="hljs-keyword">const</span> path = <span class="hljs-built_in">require</span>(<span class="hljs-string">&apos;path&apos;</span>)

<span class="hljs-keyword">let</span> win = <span class="hljs-keyword">new</span> BrowserWindow({
  width: <span class="hljs-number">800</span>,
  height: <span class="hljs-number">600</span>
})

win.setThumbarButtons([
  {
    tooltip: <span class="hljs-string">&apos;button1&apos;</span>,
    icon: path.join(__dirname, <span class="hljs-string">&apos;button1.png&apos;</span>),
    click () { <span class="hljs-built_in">console</span>.log(<span class="hljs-string">&apos;button1 clicked&apos;</span>) }
  },
  {
    tooltip: <span class="hljs-string">&apos;button2&apos;</span>,
    icon: path.join(__dirname, <span class="hljs-string">&apos;button2.png&apos;</span>),
    flags: [<span class="hljs-string">&apos;enabled&apos;</span>, <span class="hljs-string">&apos;dismissonclick&apos;</span>],
    click () { <span class="hljs-built_in">console</span>.log(<span class="hljs-string">&apos;button2 clicked.&apos;</span>) }
  }
])
</code></pre>
<p>To clean thumbnail toolbar buttons, just call <code>BrowserWindow.setThumbarButtons</code>
with an empty array:</p>
<pre><code class="lang-javascript"><span class="hljs-keyword">const</span> {BrowserWindow} = <span class="hljs-built_in">require</span>(<span class="hljs-string">&apos;electron&apos;</span>)
<span class="hljs-keyword">let</span> win = <span class="hljs-keyword">new</span> BrowserWindow()
win.setThumbarButtons([])
</code></pre>
<h2 id="unity-launcher-shortcuts-linux">Unity Launcher Shortcuts (Linux)</h2>
<p>In Unity, you can add custom entries to its launcher via modifying the
<code>.desktop</code> file, see <a href="https://help.ubuntu.com/community/UnityLaunchersAndDesktopFiles#Adding_shortcuts_to_a_launcher" target="_blank">Adding Shortcuts to a Launcher</a>.</p>
<p><strong>Launcher shortcuts of Audacious:</strong></p>
<p><img src="https://help.ubuntu.com/community/UnityLaunchersAndDesktopFiles?action=AttachFile&amp;do=get&amp;target=shortcuts.png" alt="audacious"></p>
<h2 id="progress-bar-in-taskbar-windows-macos-unity">Progress Bar in Taskbar (Windows, macOS, Unity)</h2>
<p>On Windows a taskbar button can be used to display a progress bar. This enables
a window to provide progress information to the user without the user having to
switch to the window itself.</p>
<p>On macOS the progress bar will be displayed as a part of the dock icon.</p>
<p>The Unity DE also has a similar feature that allows you to specify the progress
bar in the launcher.</p>
<p><strong>Progress bar in taskbar button:</strong></p>
<p><img src="https://cloud.githubusercontent.com/assets/639601/5081682/16691fda-6f0e-11e4-9676-49b6418f1264.png" alt="Taskbar Progress Bar"></p>
<p>To set the progress bar for a Window, you can use the
<a href="../api/browser-window.html#winsetprogressbarprogress">BrowserWindow.setProgressBar</a> API:</p>
<pre><code class="lang-javascript"><span class="hljs-keyword">const</span> {BrowserWindow} = <span class="hljs-built_in">require</span>(<span class="hljs-string">&apos;electron&apos;</span>)
<span class="hljs-keyword">let</span> win = <span class="hljs-keyword">new</span> BrowserWindow()
win.setProgressBar(<span class="hljs-number">0.5</span>)
</code></pre>
<h2 id="icon-overlays-in-taskbar-windows">Icon Overlays in Taskbar (Windows)</h2>
<p>On Windows a taskbar button can use a small overlay to display application
status, as quoted from MSDN:</p>
<blockquote>
<p>Icon overlays serve as a contextual notification of status, and are intended
to negate the need for a separate notification area status icon to communicate
that information to the user. For instance, the new mail status in Microsoft
Outlook, currently shown in the notification area, can now be indicated
through an overlay on the taskbar button. Again, you must decide during your
development cycle which method is best for your application. Overlay icons are
intended to supply important, long-standing status or notifications such as
network status, messenger status, or new mail. The user should not be
presented with constantly changing overlays or animations.</p>
</blockquote>
<p><strong>Overlay on taskbar button:</strong></p>
<p><img src="https://i-msdn.sec.s-msft.com/dynimg/IC420441.png" alt="Overlay on taskbar button"></p>
<p>To set the overlay icon for a window, you can use the
<a href="../api/browser-window.html#winsetoverlayiconoverlay-description-windows-7">BrowserWindow.setOverlayIcon</a> API:</p>
<pre><code class="lang-javascript"><span class="hljs-keyword">const</span> {BrowserWindow} = <span class="hljs-built_in">require</span>(<span class="hljs-string">&apos;electron&apos;</span>)
<span class="hljs-keyword">let</span> win = <span class="hljs-keyword">new</span> BrowserWindow()
win.setOverlayIcon(<span class="hljs-string">&apos;path/to/overlay.png&apos;</span>, <span class="hljs-string">&apos;Description for overlay&apos;</span>)
</code></pre>
<h2 id="flash-frame-windows">Flash Frame (Windows)</h2>
<p>On Windows you can highlight the taskbar button to get the user&apos;s attention.
This is similar to bouncing the dock icon on macOS.
From the MSDN reference documentation:</p>
<blockquote>
<p>Typically, a window is flashed to inform the user that the window requires
attention but that it does not currently have the keyboard focus.</p>
</blockquote>
<p>To flash the BrowserWindow taskbar button, you can use the
<a href="../api/browser-window.html#winflashframeflag">BrowserWindow.flashFrame</a> API:</p>
<pre><code class="lang-javascript"><span class="hljs-keyword">const</span> {BrowserWindow} = <span class="hljs-built_in">require</span>(<span class="hljs-string">&apos;electron&apos;</span>)
<span class="hljs-keyword">let</span> win = <span class="hljs-keyword">new</span> BrowserWindow()
win.once(<span class="hljs-string">&apos;focus&apos;</span>, () =&gt; win.flashFrame(<span class="hljs-literal">false</span>))
win.flashFrame(<span class="hljs-literal">true</span>)
</code></pre>
<p>Don&apos;t forget to call the <code>flashFrame</code> method with <code>false</code> to turn off the flash. In
the above example, it is called when the window comes into focus, but you might
use a timeout or some other event to disable it.</p>
<h2 id="represented-file-of-window-macos">Represented File of Window (macOS)</h2>
<p>On macOS a window can set its represented file, so the file&apos;s icon can show in
the title bar and when users Command-Click or Control-Click on the title a path
popup will show.</p>
<p>You can also set the edited state of a window so that the file icon can indicate
whether the document in this window has been modified.</p>
<p><strong>Represented file popup menu:</strong></p>
<p><img src="https://cloud.githubusercontent.com/assets/639601/5082061/670a949a-6f14-11e4-987a-9aaa04b23c1d.png" height="232" width="663"></p>
<p>To set the represented file of window, you can use the
<a href="../api/browser-window.html#winsetrepresentedfilenamefilename-os-x">BrowserWindow.setRepresentedFilename</a> and
<a href="../api/browser-window.html#winsetdocumenteditededited-os-x">BrowserWindow.setDocumentEdited</a> APIs:</p>
<pre><code class="lang-javascript"><span class="hljs-keyword">const</span> {BrowserWindow} = <span class="hljs-built_in">require</span>(<span class="hljs-string">&apos;electron&apos;</span>)
<span class="hljs-keyword">let</span> win = <span class="hljs-keyword">new</span> BrowserWindow()
win.setRepresentedFilename(<span class="hljs-string">&apos;/etc/passwd&apos;</span>)
win.setDocumentEdited(<span class="hljs-literal">true</span>)
</code></pre>
<h2 id="dragging-files-out-of-the-window">Dragging files out of the window</h2>
<p>For certain kinds of apps that manipulate on files, it is important to be able
to drag files from Electron to other apps. To implement this feature in your
app, you need to call <code>webContents.startDrag(item)</code> API on <code>ondragstart</code> event.</p>
<p>In web page:</p>
<pre><code class="lang-html"><span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">href</span>=<span class="hljs-string">&quot;#&quot;</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;drag&quot;</span>&gt;</span>item<span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;text/javascript&quot;</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">&quot;utf-8&quot;</span>&gt;</span><span class="javascript">
  <span class="hljs-built_in">document</span>.getElementById(<span class="hljs-string">&apos;drag&apos;</span>).ondragstart = (event) =&gt; {
    event.preventDefault()
    ipcRenderer.send(<span class="hljs-string">&apos;ondragstart&apos;</span>, <span class="hljs-string">&apos;/path/to/item&apos;</span>)
  }
</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
</code></pre>
<p>In the main process:</p>
<pre><code class="lang-javascript"><span class="hljs-keyword">const</span> {ipcMain} = <span class="hljs-built_in">require</span>(<span class="hljs-string">&apos;electron&apos;</span>)
ipcMain.on(<span class="hljs-string">&apos;ondragstart&apos;</span>, (event, filePath) =&gt; {
  event.sender.startDrag({
    file: filePath,
    icon: <span class="hljs-string">&apos;/path/to/icon.png&apos;</span>
  })
})
</code></pre>

                                
                                </section>
                            
    </div>
    <div class="search-results">
        <div class="has-results">
            
            <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
            <ul class="search-results-list"></ul>
            
        </div>
        <div class="no-results">
            
            <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
            
        </div>
    </div>
</div>

                        </div>
                    </div>
                
            </div>

            
                
                <a href="quick-start.html" class="navigation navigation-prev " aria-label="Previous page: Quick Start">
                    <i class="fa fa-angle-left"></i>
                </a>
                
                
                <a href="online-offline-events.html" class="navigation navigation-next " aria-label="Next page: Online/Offline Event Detection">
                    <i class="fa fa-angle-right"></i>
                </a>
                
            
        
    </div>

    <script>
        var gitbook = gitbook || [];
        gitbook.push(function() {
            gitbook.page.hasChanged({"page":{"title":"Desktop Environment Integration","level":"1.4.2","depth":2,"next":{"title":"Online/Offline Event Detection","level":"1.4.3","depth":2,"path":"tutorial/online-offline-events.md","ref":"tutorial/online-offline-events.md","articles":[]},"previous":{"title":"Quick Start","level":"1.4.1","depth":2,"path":"tutorial/quick-start.md","ref":"tutorial/quick-start.md","articles":[]},"dir":"ltr"},"config":{"plugins":["-lunr","-search","search-plus"],"root":"en-US","styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"pluginsConfig":{"search-plus":{},"highlight":{},"sharing":{"facebook":true,"twitter":true,"google":false,"weibo":false,"instapaper":false,"vk":false,"all":["facebook","google","twitter","weibo","instapaper"]},"fontsettings":{"theme":"white","family":"sans","size":2},"theme-default":{"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"showLevel":false}},"theme":"default","pdf":{"pageNumbers":true,"fontSize":12,"fontFamily":"Arial","paperSize":"a4","chapterMark":"pagebreak","pageBreaksBefore":"/","margin":{"right":62,"left":62,"top":56,"bottom":56}},"structure":{"langs":"LANGS.md","readme":"README.md","glossary":"GLOSSARY.md","summary":"SUMMARY.md"},"variables":{"version":"0.0.0"},"title":"test search plus plugin","gitbook":"*"},"file":{"path":"tutorial/desktop-environment-integration.md","mtime":"2017-01-01T08:26:54.000Z","type":"markdown"},"gitbook":{"version":"3.2.2","time":"2017-01-01T08:59:39.412Z"},"basePath":"..","book":{"language":""}});
        });
    </script>
</div>

        
    <script src="../gitbook/gitbook.js"></script>
    <script src="../gitbook/theme.js"></script>
    
        
        <script src="../gitbook/gitbook-plugin-search-plus/search.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-sharing/buttons.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-fontsettings/fontsettings.js"></script>
        
    

    </body>
</html>

